<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="product-page-styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400&display=swap%27" rel="stylesheet">
    <title>Product Page</title>

</head>
<body>
    <script src="submit-script.js"></script>

    <section class="about-page">
        <div class="background">
            <div class="nav-bar">
                <div class="web-title">
                    <a href="index.html">
                        <p>phish net</p>
                    </a>
                    <img src="images/WhiteLogo.png" class="white-logo">
                </div>
                <div class="tabs">
                    <a href="product.html">
                        <p>product</p>
                    </a>
                    <a href="about.html">
                        <p>about</p>
                    </a>
                    <a href="https://www.youtube.com/watch?v=ArmDp-zijuc&ab_channel=HYBELABELS">
                        <p>terms of service</p>
                    </a>
                    <a href="login-page.html">
                        <p>login</p>
                    </a>

                </div>
            </div>

            <div class="product-background">
                <div class="body-section">
                    <div class="left-box">

                    
                        <div class="textbox">
                            <textarea rows="4" cols="50" placeholder="Type your text here..."></textarea>
                        </div>

                        <div>
                            <button id="submit-button">
                                submit
                            </button>
                        </div>

                    </div>
                    
                    <div class="report-content">
                        <div class="box">
                            <div class="conclusion">
                                <p id="conclusionText">Yes, there's phishing</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            

        </div>
</section>

<div class="footer">
    <div class="details">
        <p> Â© Copyright 2023 <br>
            <br>
            Made by the Chefs
        </p>
    </div>

</div>


<script>
    // Function to update the conclusion text based on the response
    function updateConclusion(responseText) {
        const conclusionElement = document.getElementById('conclusionText');
        if (responseText === '0') {
            conclusionElement.textContent = 'Safe';
        } else if (responseText === '1') {
            conclusionElement.textContent = 'Unsafe';
        } else {
            conclusionElement.textContent = 'Unknown';
        }
    }

    // Function to fetch status from the server
    function fetchStatus() {
        fetch('your_server_endpoint_here')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(responseText => {
                updateConclusion(responseText); // Update the conclusion text
            })
            .catch(error => {
                console.error('Fetch error:', error);
                updateConclusion('Unknown');
            });
    }

    // Update conclusion text initially and then fetch status at regular intervals (e.g., every 5 seconds)
    updateConclusion('Unknown'); // Initial state
    setInterval(fetchStatus, 5000); // Update every 5 seconds
</script>

</body>
</html>
